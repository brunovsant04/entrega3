export function initFormValidation(){if(!attachValidation()){const e=setInterval((()=>{attachValidation()&&clearInterval(e)}),100)}}function attachValidation(){const e=document.getElementById("cadastroForm");if(!e)return!1;e.removeEventListener("submit",handleSubmit),e.addEventListener("submit",handleSubmit)}function handleSubmit(e){e.preventDefault();const t=e.target;let o=[];const n=t.nome?.value.trim(),a=t.email?.value.trim(),i=t.telefone?.value.trim(),r=t.cpf?.value.trim(),l=t.nascimento?.value,d=t.cep?.value.trim(),m=t.endereco?.value.trim(),s=t.sexo?.value.trim(),u=t.aceito?.checked;(!n||n.length<2)&&o.push("O nome deve ter pelo menos 2 caracteres."),a&&a.includes("@")||o.push("E-mail inválido!"),i&&!i.match(/^\(\d{2}\)\s?\d{5}-\d{4}$/)&&o.push("Telefone inválido."),r&&!r.match(/^\d{3}\.\d{3}\.\d{3}-\d{2}$/)&&o.push("CPF inválido."),d&&!d.match(/^\d{5}-\d{3}$/)&&o.push("CEP inválido."),(!m||m.length<5)&&o.push("Informe um endereço com logradouro e número."),s||o.push("Selecione ou digite uma opção de sexo."),l||o.push("Informe sua data de nascimento."),u||o.push("É preciso aceitar os termos."),o.length>0?alert("Há erros de preenchimento no formulário:\n\n"+o.join("\n")):(alert("Cadastro realizado com sucesso! Obrigado! ❤"),t.reset())}